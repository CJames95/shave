!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function S(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function q(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||((i=i||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function n(e,t,n){if(void 0===n&&(n={}),void 0===t||isNaN(t))throw Error("maxHeight is required");var i="string"==typeof(o=e)?q([],S(document.querySelectorAll(o)),!1):"length"in o?q([],S(o),!1):[o];if(i.length){var r=n.character,e=void 0===r?"&mldr;":r,o=n.classname,a=void 0===o?"js-shave":o,r=n.spaces,o=void 0===r||r,r=n.charclassname,l=void 0===r?"js-shave-char":r,n=n.link,c=void 0===n?{}:n,s="boolean"!=typeof o||o,o="{}"!==JSON.stringify(c),e=o&&c.textContent?c.textContent:e,f=document.createElement(o?"a":"span"),d={textContent:e,className:l};if(o)for(var h in c)d[h]=c[h];for(h in d)f[h]=d[h];for(var v=0;v<i.length;v+=1){var u=i[v],y=u.style,m=u.querySelector("."+a),g=void 0===u.textContent?"innerText":"textContent";if(m){for(var p=u.querySelectorAll("."+l),x=0;x<p.length;x++){var w=p[x];w.parentNode.removeChild(w)}u[g]=u[g]}var j=u[g],A=s?j.split(" "):j;if(!(A.length<2)){var C=y.height;y.height="auto";var H=y.maxHeight;if(y.maxHeight="none",u.offsetHeight<=t)y.height=C,y.maxHeight=H;else{for(var b,E=A.length-1,N=0;N<E;)b=N+E+1>>1,u[g]=s?A.slice(0,b).join(" "):A.slice(0,b),u.insertAdjacentElement("beforeend",f),u.offsetHeight>t?E=b-1:N=b;u[g]=s?A.slice(0,E).join(" "):A.slice(0,E),u.insertAdjacentElement("beforeend",f);m=s?" "+A.slice(E).join(" "):A.slice(E),j=document.createTextNode(m),m=document.createElement("span");m.classList.add(a),m.style.display="none",m.appendChild(j),u.insertAdjacentElement("beforeend",m),y.height=C,y.maxHeight=H}}}}}var e;"undefined"==typeof window||(e=window.$||window.jQuery||window.Zepto)&&(e.fn.shave=function(e,t){return n(this,e,t),this})});
