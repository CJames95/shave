!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function E(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function S(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||((i=i||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function n(e,t,n){if(void 0===n&&(n={}),void 0===t||isNaN(t))throw Error("maxHeight is required");var i="string"==typeof(e=e)?S([],E(document.querySelectorAll(e)),!1):"length"in e?S([],E(e),!1):[e];if(i.length){var r,e=n.character,e=void 0===e?"&mldr;":e,o=n.classname,a=void 0===o?"js-shave":o,o=n.spaces,o=void 0===o||o,l=n.charclassname,c=void 0===l?"js-shave-char":l,l=n.link,s=void 0===l?{}:l,f="boolean"!=typeof o||o,n=s&&"{}"!==JSON.stringify(s)&&s.href,l=n&&s.textContent?s.textContent:e,d=document.createElement(n?"a":"span"),h={textContent:l,className:c};for(r in h)d[r]=h[r];if(n)for(var u in s)d[u]=s[u];for(var v=0;v<i.length;v+=1){var y=i[v],m=y.style,g=y.querySelector("."+a),p=void 0===y.textContent?"innerText":"textContent",g=(g&&(y.removeChild(y.querySelector("."+c)),y[p]=y[p]),y[p]),x=f?g.split(" "):g;if(!(x.length<2)){var g=m.height,w=(m.height="auto",m.maxHeight);if(m.maxHeight="none",y.offsetHeight<=t)m.height=g,m.maxHeight=w;else{for(var j,C=x.length-1,H=0;H<C;)j=H+C+1>>1,y[p]=f?x.slice(0,j).join(" "):x.slice(0,j),y.insertAdjacentElement("beforeend",d),y.offsetHeight>t?C=j-1:H=j;y[p]=f?x.slice(0,C).join(" "):x.slice(0,C),y.insertAdjacentElement("beforeend",d);var b=f?" ".concat(x.slice(C).join(" ")):x.slice(C),b=document.createTextNode(b),A=document.createElement("span");A.classList.add(a),A.style.display="none",A.appendChild(b),y.insertAdjacentElement("beforeend",A),m.height=g,m.maxHeight=w}}}}}var e;"undefined"!=typeof window&&(e=window.$||window.jQuery||window.Zepto)&&(e.fn.shave=function(e,t){return n(this,e,t),this})});
